<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Messages</title>
</head>
<body>
<h1>All Messages</h1>
<table>
    <thead>
    <tr>
        <th>Title</th>
        <th>Message Body</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="message : ${messages}">
        <td th:text="${messages.title}"></td>
        <td th:text="${message.messageBody}"></td>
    </tr>
    </tbody>
</table>


<!-- JavaScript code -->
<script type="text/javascript">
    $(document).ready(function() {
        // Make AJAX request to fetch all messages
        $.ajax({
            url: '/api/messages', // Your backend endpoint to retrieve messages
            type: 'GET',
            success: function(messages) {
                // Loop through the messages and display them on the profile page
                messages.forEach(function(message) {
                    var messageHtml = '<div class="message">';
                    messageHtml += '<h2>' + message.title + '</h2>';
                    messageHtml += '<p>' + message.body + '</p>';
                    messageHtml += '<p>Created by: ' + message.user.username + '</p>'; // Assuming user information is included in each message
                    messageHtml += '<p>Date: ' + message.date + '</p>';
                    messageHtml += '</div>';
                    $('#messageBoard').append(messageHtml); // Assuming you have a <div id="messageBoard"> on your profile page to display messages
                });
            }
        });
    });
</script>

</body>
</html>
